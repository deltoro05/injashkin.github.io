<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/index.1gfgkm2bv.css">
    <script defer src="/index.1gfgkm2bv.js"></script>
    <meta name="description" content="Как применять стили в генераторе статических сайтов Gatsby. Описаны способы стилизации с помощью CSS файлов, CSS модулей и CSS-in-JS">
    <title>Руководство по Gatsby. Введение в стилизацию | jinv.ru</title>
    <link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml">
    <link rel="apple-touch-icon" sizes="57x57" href="images/icons/icon57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/icons/icon60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/icons/icon72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/icons/icon76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/icons/icon114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/icons/icon120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/icons/icon144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/icons/icon152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/icons/icon180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/icons/icon192.png">
    <link rel="icon" href="images/icons/icon16.png" type="image/png" sizes="16x16">
    <link rel="icon" href="images/icons/icon32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="images/icons/icon96.png" type="image/png" sizes="96x96">
    <link rel="manifest" href="/manifest.webmanifest">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="images/icons/icon144.png">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body>
    <header class="header">
      <div class="header__content content">           
        <div class="header__logo">
          <div class="logo">        <a href="/" title="jinv.ru"> 
              <svg class="icon icon__logo" role="img" width="14em" height="5em">
                <use href="/sprite.svg#logo"></use>
              </svg></a></div>
          <div class="logo_mobile"><a href="/" title="jinv.ru"><img src="/images/icon-72x72.png" alt="Логотип сайта jinv.ru"/></a></div>
        </div>
        <nav class="menu" aria-label="Главное меню">   
          <div class="content"> 
            <input id="menu__toggle" type="checkbox"/>
            <label class="menu__btn" for="menu__toggle"><span>   </span></label>
            <ul class="menu__box">
              <li><a class="menu__item" href="/">Главная</a></li>
              <li><a class="menu__item" href="/toc.html">Статьи</a></li>
              <li><a class="menu__item" href="/author.html">Об авторе</a></li>
            </ul>
          </div>
        </nav>
        <div class="theme">
          <select id="theme" name="theme">        
            <option value="auto">Авто      </option>
            <option value="light">Светлая      </option>
            <option value="dark">Темная    </option>
          </select>
        </div>
        <div class="header__contacts">
          <div class="send-mes">
            <div class="soc"><a class="mes-em" href="injashkin@gmail.com" title="Email" target="_blank" rel="nofollow">
                <svg class="icon icon__email" role="img" width="1em" height="1em">
                  <use href="/sprite.svg#email"></use>
                </svg></a><a class="mes-tg" href="https://t.me/jashkin" title="Telegram" target="_blank" rel="nofollow">
                <svg class="icon icon__telegram" role="img" width="1em" height="1em">
                  <use href="/sprite.svg#telegram"></use>
                </svg></a><a class="mes-wa" href="https://api.whatsapp.com/send?phone=79183549497" title="WhatsApp" target="_blank" rel="nofollow">
                <svg class="icon icon__whatsapp" role="img" width="1em" height="1em">
                  <use href="/sprite.svg#whatsapp"></use>
                </svg></a>
            </div>
          </div>
          <div class="contacts">         
            <p> <a href="https://github.com/injashkin/injashkin.github.io">Github</a></p>
          </div>
        </div>
      </div>
    </header>
    <div class="content">
      <div class="article">
        <h1>Руководство по Gatsby. Введение в стилизацию</h1>
        <div class="creationDate">Создано: 28-02-2020</div><p>Данная статья - является моим вольным переводом официального источника: https://www.gatsbyjs.org/tutorial/part-two/</p>
<p>Добро пожаловать во вторую часть учебника Gatsby!</p>
<h2>Что в этой статье?</h2>
<p>Здесь вы изучите варианты оформления веб-сайтов Gatsby и глубже погрузитесь в использование компонентов React для создания сайтов.</p>
<h2>Использование глобальных стилей</h2>
<p>Каждый сайт имеет какой-то глобальный стиль. Он включает в себя такие вещи, как типографика сайта и фоновые цвета. Эти стили задают общее ощущение объекта - так же, как цвет и текстура стены задают общее ощущение комнаты.</p>
<h3>Создание глобальных стилей с помощью стандартных CSS-файлов</h3>
<p>Один из самых простых способов добавления глобальных стилей на сайт -- это использование глобальной таблицы стилей <code>.css</code>.</p>
<h4>Создание нового Gatsby сайта</h4>
<p>Начните с создания нового сайта Gatsby. Возможно, лучше всего (особенно если вы новичок в командной строке) закрыть окна терминала, которые вы использовали для <a href="/tutorial/part-one/">части первой</a>, и начать новый сеанс терминала для части второй.</p>
<p>Откройте новое окно терминала, создайте новый сайт &quot;hello world&quot; Gatsby в каталоге под названием <code>tutorial-part-two</code>, а затем перейдите в этот новый каталог:</p>
<pre><code class="language-shell">gatsby new tutorial-part-two https://github.com/gatsbyjs/gatsby-starter-hello-world
cd tutorial-part-two
</code></pre>
<p>Теперь у вас есть новый сайт Gatsby (основанный на Gatsby стартере &quot;hello world&quot;) со следующей структурой:</p>
<pre><code class="language-text">├── package.json
├── src
│   └── pages
│       └── index.js
</code></pre>
<h4>Добавление стилей в файл css</h4>
<ol>
<li>Создайте файл <code>.css</code> в новом проекте:</li>
</ol>
<pre><code class="language-shell">cd src
mkdir styles
cd styles
touch global.css
</code></pre>
<p>Теперь у вас должна быть такая структура:</p>
<pre><code class="language-text">├── package.json
├── src
│   └── pages
│       └── index.js
│   └── styles
│       └── global.css
</code></pre>
<ol start="2">
<li>Определим некоторые стили в файле <code>global.css</code>:</li>
</ol>
<pre><code class="language-css:title=src/styles/global.css">html {
  background-color: lavenderblush;
}
</code></pre>
<blockquote>
<p>Примечание: размещение файла css в папке <code>/src/styles/</code> является произвольным.</p>
</blockquote>
<h4>Включение таблицы стилей в <code>gatsby-browser.js</code></h4>
<ol>
<li>Создайте <code>gatsby-browser.js</code></li>
</ol>
<pre><code class="language-shell">cd ../..
touch gatsby-browser.js
</code></pre>
<p>Файловая структура вашего проекта теперь должна выглядеть следующим образом:</p>
<pre><code class="language-text">├── package.json
├── src
│   └── pages
│       └── index.js
│   └── styles
│       └── global.css
├── gatsby-browser.js
</code></pre>
<blockquote>
<p>Файл <code>gatsby-browser.js</code> - один из немногих специальных файлов, которые ищет и использует (если они существуют) Gatsby. Здесь имя файла <strong>должно</strong> быть именно таким. Если вы хотите узнать больше, просмотрите <a href="https://www.gatsbyjs.org/docs/browser-apis/">эти документы</a>.</p>
</blockquote>
<ol start="2">
<li>Импортируйте недавно созданную таблицу стилей в файл <code>gatsby-browser.js</code>:</li>
</ol>
<pre><code class="language-javascript:title=gatsby-browser.js">import &quot;./src/styles/global.css&quot;

// or:
// require('./src/styles/global.css')
</code></pre>
<blockquote>
<p>Примечание: на CommonJS (<code>require</code>) и ES Module (<code>import</code>)синтаксис работы здесь. Если вы не уверены, что выбрать, <code>import</code> обычно является хорошим значением по умолчанию. При работе с файлами, которые однако выполняются только в среде Node.js (как <code>gatsby-node.js</code>), <code>require</code> нужно будет использовать.</p>
</blockquote>
<ol start="3">
<li>Запустите сервер разработки:</li>
</ol>
<pre><code class="language-shell">gatsby develop
</code></pre>
<p>Если вы посмотрите на свой проект в браузере, вы увидите лавандовый фон, примененный к стартеру &quot;hello world&quot;:</p>
<p><img src="global-css.png" alt="Lavender Hello World!"></p>
<blockquote>
<p>Совет: эта часть урока была посвящена самому быстрому и простому способу начать стилизацию сайта Gatsby - прямому импорту стандартных CSS-файлов с помощью <code>gatsby-browser.js</code>. В большинстве случаев лучший способ добавить глобальные стили - это использовать общий компонент макета. <a href="https://www.gatsbyjs.org/docs/global-css/">Ознакомьтесь с документами</a> для получения дополнительной информации об этом подходе.</p>
</blockquote>
<h2>Использование CSS в области компонентов</h2>
<p>До сих пор мы говорили о более традиционном подходе использования стандартных таблиц стилей css. Теперь мы поговорим о различных методах модулирования CSS для решения проблемы стилизации в компонентно-ориентированном виде.</p>
<h3>CSS модули</h3>
<p>Давайте рассмотрим <strong>CSS модули</strong>. Цитирую из
<a href="https://github.com/css-modules/css-modules">the CSS Module homepage</a>:</p>
<blockquote>
<p><strong>CSS модуль</strong> - это CSS-файл, в котором все имена классов и имена анимаций
по умолчанию ограничены локально.</p>
</blockquote>
<p>CSS модули очень популярны, потому что они позволяют писать CSS нормально, но с гораздо большей безопасностью. Инструмент автоматически генерирует уникальные имена классов и анимаций, поэтому вам не нужно беспокоиться о коллизиях имен селекторов.</p>
<p>Gatsby работает из коробки с модулями CSS. Этот подход настоятельно рекомендуется для тех, кто новичок в строительстве с Gatsby (и React в целом).</p>
<h4>Создание новой страницы с помощью CSS модулей</h4>
<p>В этом разделе вы создадите новый компонент страницы и стиль этого компонента страницы с помощью модуля CSS.</p>
<p>Сначала создайте новый компонент <code>Container</code>.</p>
<ol>
<li>Создайте новый каталог в <code>src/components</code>, а затем в этом новом каталоге создайте файл <code>container.js</code> и в него вставьте следующее:</li>
</ol>
<pre><code class="language-jsx:title=src/components/container.js">import React from &quot;react&quot;
import containerStyles from &quot;./container.module.css&quot;

export default ({ children }) =&gt; (
  &lt;div className={containerStyles.container}&gt;{children}&lt;/div&gt;
)
</code></pre>
<p>Обратите внимание, что вы импортировали файл модуля css с именем <code>container.module.css</code>. Давайте создадим этот файл сейчас.</p>
<ol start="2">
<li>В том же каталоге (<code>src/components</code>) создайте файл <code>container.module.css</code> и вставьте следующее:</li>
</ol>
<pre><code class="language-css:title=src/components/container.module.css">.container {
  margin: 3rem auto;
  max-width: 600px;
}
</code></pre>
<p>Вы заметили, что имя файла заканчивается на <code>.module.css</code> вместо обычного <code>.css</code>. Именно так вы сообщаете Gatsby, что этот CSS-файл должен обрабатываться как модуль CSS, а не как простой CSS.</p>
<ol start="3">
<li>Создайте новый компонент страницы, создав файл по адресу
<code>src/pages/about-css-modules.js</code>:</li>
</ol>
<pre><code class="language-jsx:title=src/pages/about-css-modules.js">import React from &quot;react&quot;

import Container from &quot;../components/container&quot;

export default () =&gt; (
  &lt;Container&gt;
    &lt;h1&gt;About CSS Modules&lt;/h1&gt;
    &lt;p&gt;CSS Modules are cool&lt;/p&gt;
  &lt;/Container&gt;
)
</code></pre>
<p>А теперь, если вы посетите <code>http://localhost:8000/about-css-modules/</code>, ваша страница должна выглядеть примерно так:</p>
<p><img src="css-modules-basic.png" alt="Page with CSS module styles"></p>
<p>В этом разделе вы создадите список людей с именами, аватарами и краткими биографиями. Вы создадите компонент <code>&lt;User /&gt;</code> и оформите его с помощью CSS модуля.</p>
<ol>
<li>
<p>Создайте файл для CSS по адресу <code>src/pages/about-css-modules.module.css</code>.</p>
</li>
<li>
<p>Вставьте в новый файл следующее:</p>
</li>
</ol>
<pre><code class="language-css:title=src/pages/about-css-modules.module.css">.user {
  display: flex;
  align-items: center;
  margin: 0 auto 12px auto;
}

.user:last-child {
  margin-bottom: 0;
}

.avatar {
  flex: 0 0 96px;
  width: 96px;
  height: 96px;
  margin: 0;
}

.description {
  flex: 1;
  margin-left: 18px;
  padding: 12px;
}

.username {
  margin: 0 0 12px 0;
  padding: 0;
}

.excerpt {
  margin: 0;
}
</code></pre>
<ol start="3">
<li>Импортируйте новый файл <code>src/pages/about-css-modules.module.css</code> в страницу <code>about-css-modules.js</code>, которую вы создали ранее, отредактировав первые несколько строк файла следующим образом:</li>
</ol>
<pre><code class="language-javascript:title=src/pages/about-css-modules.js">import React from &quot;react&quot;
// highlight-next-line
import styles from &quot;./about-css-modules.module.css&quot;
import Container from &quot;../components/container&quot;

// highlight-next-line
console.log(styles)
</code></pre>
<p>Код <code>console.log(styles)</code> будет выводить полученный импорт, чтобы вы могли видеть результат обработки файла <code>./about-css-modules.module.css</code>. Если вы откроете консоль разработчика (например, с помощью инструментов разработчика Firefox или Chrome, часто с помощью клавиши F12) в вашем браузере, вы увидите:</p>
<p><img src="css-modules-console.png" alt="Import result of CSS module in console"></p>
<p>Если вы сравните это с вашим CSS-файлом, вы увидите, что каждый класс является сейчас ключевым в импортированный объект, указывая на длинную строку, например <code>avatar</code> указывает на <code>src-pages----about-css-modules-module---avatar---2lRF7</code>. Это имена классов, которые генерируют модули CSS. Они гарантированно будут уникальными на вашем сайте. И поскольку вы должны импортировать их, чтобы использовать классы, никогда не возникает вопроса о том, где используется некоторый CSS.</p>
<ol start="4">
<li>Создайте новый компонент <code>&lt;User /&gt;</code>, встроенный в страницу <code>about-css-modules.js</code> компонента. Измените <code>about-css-modules.js</code> следующим образом:</li>
</ol>
<pre><code class="language-jsx:title=src/pages/about-css-modules.js">import React from &quot;react&quot;
import styles from &quot;./about-css-modules.module.css&quot;
import Container from &quot;../components/container&quot;

console.log(styles)

// highlight-start
const User = props =&gt; (
  &lt;div className={styles.user}&gt;
    &lt;img src={props.avatar} className={styles.avatar} alt=&quot;&quot; /&gt;
    &lt;div className={styles.description}&gt;
      &lt;h2 className={styles.username}&gt;{props.username}&lt;/h2&gt;
      &lt;p className={styles.excerpt}&gt;{props.excerpt}&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
)
// highlight-end

export default () =&gt; (
  &lt;Container&gt;
    &lt;h1&gt;About CSS Modules&lt;/h1&gt;
    &lt;p&gt;CSS Modules are cool&lt;/p&gt;
    {/* highlight-start */}
    &lt;User
      username=&quot;Jane Doe&quot;
      avatar=&quot;https://s3.amazonaws.com/uifaces/faces/twitter/adellecharles/128.jpg&quot;
      excerpt=&quot;I'm Jane Doe. Lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;
    /&gt;
    &lt;User
      username=&quot;Bob Smith&quot;
      avatar=&quot;https://s3.amazonaws.com/uifaces/faces/twitter/vladarbatov/128.jpg&quot;
      excerpt=&quot;I'm Bob Smith, a vertically aligned type of guy. Lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;
    /&gt;
    {/* highlight-end */}
  &lt;/Container&gt;
)
</code></pre>
<blockquote>
<p>Совет: как правило, если вы используете компонент в нескольких местах на сайте, он должен находиться в собственном файле модуля в каталоге <code>components</code>. Но если он используется только в одном файле, создайте его встроенным.</p>
</blockquote>
<p>Готовая страница теперь должна выглядеть так:</p>
<p><img src="css-modules-userlist.png" alt="User list page with CSS modules"></p>
<h3>CSS-in-JS</h3>
<p>CSS-in-JS является компонентно-ориентированным подходом моделирования. Как правило, это шаблон, где <a href="https://reactjs.org/docs/faq-styling.html#what-is-css-in-js">CSS составляется встроенным с помощью JavaScript</a>.</p>
<h4>Использование CSS-in-JS с Gatsby</h4>
<p>Существует множество различных библиотек CSS-in-JS, и многие из них уже имеют плагины Gatsby. Мы не будем рассматривать пример CSS-in-JS в этом начальном руководстве, но мы рекомендуем вам [изучить]https://www.gatsbyjs.org/docs/styling/, что может предложить экосистема. Существуют мини-учебники для двух библиотек, в частности, [Emotion]https://www.gatsbyjs.org/docs/emotion/ и [Styled Components] https://www.gatsbyjs.org/docs/styled-components/.</p>
<h4>Рекомендуемое чтение о CSS-in-JS</h4>
<p>Если вы заинтересованы в дальнейшем чтении, ознакомьтесь с презентацией <a href="https://speakerdeck.com/vjeux/react-css-in-js">Christopher &quot;vjeux&quot; Chedeau's 2014 presentation that sparked this movement</a>, а также <a href="https://medium.com/seek-blog/a-unified-styling-language-d0c208de2660">Mark Dalgleish's more recent post &quot;A Unified Styling Language&quot;</a>.</p>
<h3>Другие параметры CSS</h3>
<p>Gatsby поддерживает практически все возможные варианты стилей (если еще нет плагина для вашего любимого варианта CSS, [пожалуйста, внесите свой вклад!]https://www.gatsbyjs.org/contributing/how-to-contribute/</p>
<ul>
<li>[Typography.js]https://www.gatsbyjs.org/packages/gatsby-plugin-typography/</li>
<li>[Sass]https://www.gatsbyjs.org/packages/gatsby-plugin-sass/</li>
<li>[JSS]https://www.gatsbyjs.org/packages/gatsby-plugin-jss/</li>
<li>[Stylus]https://www.gatsbyjs.org/packages/gatsby-plugin-stylus/</li>
<li>[PostCSS]https://www.gatsbyjs.org/packages/gatsby-plugin-postcss/</li>
</ul>
<h2>Что будет дальше?</h2>
<p>Теперь перейдите к <a href="https://www.gatsbyjs.org/tutorial/part-three/">третьей части руководства</a>, где вы узнаете о плагинах и компонентах layout Gatsby.</p>

      </div>
    </div>
    <footer class="footer"> 
      <div class="footer__content content">
        <div class="footer__contacts" id="contacts"> <a class="footer__email-link" href="mailto:injashkin@gmail.com" title="Написать письмо">
            <svg class="icon icon__undefined" role="img" width="1em" height="1em">
              <use href="/sprite.svg#undefined"></use>
            </svg>
            <div class="footer__email">injashkin@gmail.com</div></a></div>
        <div class="footer__developer"> <a href="http://jinv.ru" target="_blank">Разработка сайта jinv.ru</a></div>
        <div class="footer__copyright-wrap">
          <div class="footer__copyright">jinv.ru © 2019 - 2022</div>
        </div>
      </div>
    </footer><!-- Yandex.Metrika counter -->
<script type="text/javascript">
  (function (d, w, c) {
    (w[c] = w[c] || []).push(function () {
      try {
        w.yaCounter60672532 = new Ya.Metrika({
          id: 60672532,
          clickmap: true,
          trackLinks: true,
          accurateTrackBounce: true,
        });
      } catch (e) {}
    });

    var n = d.getElementsByTagName('script')[0],
      x = 'https://mc.yandex.ru/metrika/watch.js',
      s = d.createElement('script'),
      f = function () {
        n.parentNode.insertBefore(s, n);
      };
    for (var i = 0; i < document.scripts.length; i++) {
      if (document.scripts[i].src === x) {
        return;
      }
    }
    s.type = 'text/javascript';
    s.async = true;
    s.src = x;

    if (w.opera == '[object Opera]') {
      d.addEventListener('DOMContentLoaded', f, false);
    } else {
      f();
    }
  })(document, window, 'yandex_metrika_callbacks');
</script>
<noscript
  ><div>
    <img
      src="https://mc.yandex.ru/watch/60672532"
      style="position: absolute; left: -9999px"
      alt=""
    /></div
></noscript>
<!-- /Yandex.Metrika counter -->

  </body>
</html>