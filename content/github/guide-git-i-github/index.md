---
title: Краткий справочник по командам Git
description: Полезные команды по работе с Git и Github. Данный справочник является кратким конспектом из источника git-scm.com
create: 20-05-2019
update: 21-10-2022
---

## Полезные команды по работе с Git и Github

Данный справочник является кратким конспектом из [источника git-scm.com](https://git-scm.com/book/ru/v2) и некоторых других ресурсов

Открываем командную строку. С помощью команды cd переходим в нужную нам директорию проекта

---

- git status
  - показывает состояние файлов

---

- git init
  - инициализирует Git-репозиторий (создается поддиректория .git)

---

- git add as.js
  - добавляет (индексирует) файл as.js для следующего комита (фиксации)

---

- git add .
  - добавляет в индекс все файлы.

---

- git add -u
  - добавляет в индекс все измененные файлы.

---

- git commit -m "first commit"
  - фиксирует изменения с комментарием в кавычках (параметр -m указывает на комментарий)

---

- git commit
  - фиксирует изменения, но для записи комментария открывает редактор по умолчанию. В Ubuntu, обычно, редактор Nano. После ввода комментария жмем `^O`, затем `Enter`, затем `^X`. Комментарий не должен быть пустым, иначе коммит отменяется.

---

- git commit -a -m "added new"
  - параметр `-a` заставляет Git автоматически индексировать каждый уже отслеживаемый на момент комита файл, позволяет обойтись без `git add`

---

- git reset -- path/file.cpp
  - удаляет из индекса файл path/file.cpp.

---

- git rm --cached as.js
  - удаляет файл as.js из индекса, не удаляя его в рабочей директории

---

- git rm -r --cached qsf  
  -удаляет каталог qsf (рекурсивно) из индекса, не удаляя его в рабочей директории

---

## Тайники в Git

[Тайники](https://git-scm.com/docs/git-stash) нужны для временного сохранения незафиксированных изменений. Это может понадобится для быстрого переключения между ветками. Если вы сделали изменения в текущей ветке, то переключится в другую ветку вы не сможете, пока не сделаете коммит или тайник. Если вы не хотите фиксировать изменения в коммит, то можно спрятать эти изменения в тайник.

---

- git stash
  - прячет незафиксированные изменения в тайник, при этом рабочий каталог приобретает состояние последнего коммита.

---

- git stash -u
  - прячет незафиксированные изменения и неотслеживаемые файлы в тайник

---

- git stash list
  - выводит список всех тайников. Последний тайник имеет ссылку stash@{0} и находится в верху списка.

---

- git stash show
  - показывает, какие изменения сохранены в последнем тайнике (stash@{0}). Показывает сколько строк вы добавили и удалили в каждом из измененных файлов.

---

- git stash show stash@{2}
  - показывает, какие изменения сохранены в тайнике stash@{2}. Показывает сколько строк вы добавили и удалили в каждом из измененных файлов.

---

- git stash show -u
  - показывает, какие изменения и неотслеживаемые файлы сохранены в последнем тайнике (stash@{0}).

---

- git stash show -p
  - показывает, какие изменения сохранены в последнем тайнике (stash@{0}). Показывает все подробности об изменениях в каждом из файлов.

---

- git stash pop
  - Применяет спрятанные изменения из последнего тайника к текущей рабочей ветке и удаляет этот тайник из стека тайников. Тайник можно применить к любой ветке, не важно, в какой ветке он создан.

---

- git stash apply
  - Применяет спрятанные изменения из последнего тайника к текущей рабочей ветке, но не удаляет этот тайник из стека тайников. Тайник можно применить к любой ветке, не важно, в какой ветке он создан.

---

- git stash apply stash@{3}
  - Применяет спрятанные изменения из тайника stash@{3} к текущей рабочей ветке, но не удаляет этот тайник из стека тайников.

---

- git stash clear
  - Очищает весь стек тайников.

---

- git stash drop stash@{2}
  - Удаляет тайник stash@{2} из стека тайников.

---

- git stash branch new
  - Создаёт новую ветку из последнего тайника.

---

- git stash branch new stash@{2}
  - Создаёт новую ветку из тайника stash@{2}.

## Ветвление

---

- git branch
  - выводит список имеющихся веток (при выводе списка звездочка `*` указывает ветку, на которую указывает HEAD т.е. ветку, на которой вы находитесь в настоящий момент)

---

- git branch -r
  - выводит список имеющихся веток текущего репозитория на удаленном сервере

---

- git branch dev
  - создает ветку с именем dev (но не переключает на нее)

---

- git branch -d dev
  - удаляет ветку с именем dev

---

- git checkout dev
  - переключает на ветку dev

---

- git checkout -b dev
  - из главной ветки main создает ветку dev и сразу переключается на нее

---

- git checkout -b hotfix-2.1.1 main
  - из ветки main создает ветку hotfix-2.1.1 и сразу переключается на нее

---

- git branch -v
  - показывает последний коммит в каждой ветке

---

- git branch -m old new
  - переименовывает локальную ветку с old на new

## Слияние ветвей

Обратите внимание Перед тем как слить ветки, нужно с помощью команды `git checkout <name_branch>`перейти в ту ветку, в которую будет производится слияние

---

- git merge dev
  - вливает ветку dev в текущую ветку

---

- git mergetool
  - открывает графический инструмент для разрешения конфликтов

---

- git branch --merged
  - показывает список веток, которые вы уже слили с текущей. Те ветки из этого списка, перед которыми нет символа \*, можно смело удалять командой git branch -d; наработки из этих веток уже включены в другую ветку, так что ничего не потеряется.

---

- git branch --no-merged
  - показывает список веток, содержащие наработки, которые вы пока ещё не слили в текущую ветку. Эти ветки невозможно удалить командой git branch -d

---

## Ветви, разное

---

- git checkout main article.md
  - Копирует файл `article.md` из ветки `main` в текущую ветку. Вместо файла можно указать каталог.

---

- git checkout 946e23a article.md
  - Копирует файл `article.md` из коммита `946e23a` в текущую ветку. Вместо файла можно указать каталог.

---

- git cherry-pick 946e23a
  - Копирует коммит `946e23a` из другой ветки в текущую. Ветки должны находится в одном репозитории.

## Удаленные репозитории

Удалённый означает другой - это репозиторий, который может находиться на вашем локальном компьютере, либо в сети, либо в интернете. К удаленному репозиторию можно обращаться по его сокращенному имени (мему) или URL-адресу.

---

- git remote

или

- git remote show
  - Выводит список доступных удалённых репозиториев в виде имён (мемов). Имя origin получит репозиторий, с которого производилось клонирование текущего репозитория.

---

- git remote show og
  - Выводит подробную информацию об удалённом репозитории og

---

- git branch -r
  - Выводит список доступных удалённых репозиториев и имеющихся у этих репозиториев веток.

---

- git remote -v
  - Выводит список имён удалённых репозиториев, соответствующие им URL и доступность на чтение и запись.

---

- git remote add og url
  - Добавляет ссылку на удалённый репозиторий, расположенный по адресу url, и присваивает ему имя og.

---

- git clone url
  - Клонирует репозиторий из указанного адреса url

---

- git clone url asd
  - Клонирует репозиторий из указанного адреса url и переименовывает в asd

---

- git push og dev
  - Отправляет ветку dev на удаленный репозиторий og (og - это либо полный путь к удаленному репозиторию, либо его сокращенный мем). Эта команда срабатывает только в случае, если вы клонировали с сервера, на котором у вас есть права на запись, и если никто другой с тех пор не выполнял команду push. Если вы и кто-то ещё одновременно клонируете, затем он выполняет команду push, а затем команду push выполняете вы, то ваш push точно будет отклонён. Вам придётся сначала вытянуть их изменения и объединить с вашими с помощью pull или fetch+merge. Только после этого вам будет позволено выполнить push.

---

- git push -u og dev
  - Отправляет ветку dev на удаленный сервер og и связывает локальную ветку dev и ветку dev в удаленном репозитории. То есть, после такой команды (которая выполняется единожды), можно будет отправлять/принимать изменения лишь выполняя git push из ветки без указания всяких алиасов для сервера и удалённых веток.

---

- git fetch og
  - Извлекает из удаленного репозитория og все изменения, которых нет в вашем локальном репозитории, но не сливает их с вашими наработками и не модифицирует то, над чем вы работаете в данный момент. Вам необходимо вручную слить эти данные с вашими, когда вы будете готовы с помощью команды merge.

---

- git pull
  - Тоже самое, что git fetch + git merge. Извлекает из удаленного репозитория все изменения, которых нет в вашей текущей локальной ветке репозитория и сливает их с вашими наработками.

---

- git push og --delete ser
  - Удаляет ветку ser в удаленном репозитории og. На самом деле, удаляется указатель на сервере. Как правило, Git-сервер оставит данные, пока не запустится сборщик мусора. Т. е., если ветка случайно была удалена, чаще всего ее легко восстановить.

---

- git remote rename kt oleg
  - Переименовывает удаленный репозиторий kt в oleg

---

- git remote rm paul
  - Удаляет ссылку на удаленный репозиторий paul. Это бывает нужно, например, если вы сменили сервер или больше не используете определённое зеркало, или, возможно, контрибьютор перестал быть активным

---

Смотри также:

[Полезные советы по работе с Git и Github](/github/poleznie-soveti-git/)
